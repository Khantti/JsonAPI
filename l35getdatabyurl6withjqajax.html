<!DOCTYPE html>
<html>
<head>
    <title>Randomuser API From URL 6 with jQuery Ajax</title>
    <style type="text/css">
        body{
            height: 100vh;

            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container{
            width: 300px;
            background-color: #f4f4f4;
            padding: 10px;
        }
    </style>
</head>
<body>

    <div class="container">
        <div id="display"></div>
        <button type="button" id="btn">Load Data</button>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">

        var getdisplay = document.getElementById('display');
        var getbtn = document.getElementById('btn');

        getbtn.addEventListener('click',function(){
            loaddata();
        });

        // function loaddata(){

        //     var url = 'https://dummyjson.com/products';
        //     fetch(url).then(function(response){
        //         return response.json();
        //     }).then(function(data){
        //         // console.log(data);
        //         // console.log(data.products);

        //         data.products.forEach(function(val){
        //             // console.log(val);
        //             console.log(val.id,val.title,val.price);
        //         });
        //     }).catch(function(err){
        //         console.log(err);
        //     });
        // }

        function loaddata(){

            var url = 'https://api.spacexdata.com/v3/launches';

            let html;

            $.ajax({
                method: "GET",
                url:url,
                dataType:"json"
            }).done((data,status,stage)=>{
                console.log(data);
                // console.log(typeof data);
                // console.log(status);
                // console.log(stage);

                // data.forEach(function(val,idx){
                //     // console.log(val);
                //     // console.log(idx); // 0 to 110

                //     // console.log(data[idx].flight_number);

                //     // html += `<ul>
                //     //     <li>Flight Number = ${data[idx].flight_number}</li>
                //     //     <li>Mission Name  = ${data[idx].mission_name}</li>
                //     //     <li>Launch Year = ${data[idx].launch_year}</li>
                //     // </ul>`;

                //     html += `<ul>
                //         <li>Flight Number = ${val.flight_number}</li>
                //         <li>Mission Name  = ${val.mission_name}</li>
                //         <li>Launch Year = ${val.launch_year}</li>
                //     </ul>`;
                // });

                $.each(data,function(idx,val){
                    // console.log(x); // idx
                    // console.log(val);

                    // html += `<ul>
                    //     <li>Flight Number = ${val.flight_number}</li>
                    //     <li>Mission Name  = ${val.mission_name}</li>
                    //     <li>Launch Year = ${val.launch_year}</li>
                    // </ul>`;

                    html += `<ul>
                        <li>Flight Number = ${data[idx].flight_number}</li>
                        <li>Mission Name  = ${data[idx].mission_name}</li>
                        <li>Launch Year = ${data[idx].launch_year}</li>
                    </ul>`;
                    
                });

                getdisplay.innerHTML = html;

                
            });
        }

        
        
    </script>
</body>
</html>

<!-- https://dummyjson.com -->
<!-- https://ipregistry.co/ -->



